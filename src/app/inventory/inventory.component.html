  <div class="inventory-window" *ngIf="isOpen">
    <div class="inventory-header">
      <h3 class="no-select">Inventory</h3>
      <button (click)="closeInventory()">X</button>
    </div>
    <div class="content">
      <div class="row-1">
        <div class="armor-slots">
          <div class="inventory-item" *ngFor="let a of armor"></div>
        </div>
        <div class="player-portrait-container">
            <img src="assets/player_portrait.png" alt="Player Image" class="player-image" class="no-select">
        </div>
        <div class="crafting-grid" data-grid="crafting">
          <div class="crafting-row" *ngFor="let row of crafting; let rowIndex = index">
            <div class="inventory-item" *ngFor="let item of row; let colIndex = index"
            [attr.draggable]="true"
            (dragstart)="onDragStart($event, item, colIndex, rowIndex)"
            (dragover)="onDragOver($event)"
            (drop)="onDrop($event, colIndex, rowIndex)">
            <ng-container *ngIf="item">
              <div class="image-wrapper">
                <div [innerHTML]="getImageHtml(item)"></div>
                <p class="quantity-text">{{item.quantity}}</p>
              </div>
            </ng-container>
          </div>
          </div>
        </div>
        <div class="arrow-container">
            <img src="assets/arrow.png" alt="Arrow Image" class="arrow-image" class="no-select">
        </div>
        <div class="output">
            <div class="inventory-item"></div>
        </div>
      </div>
      <div class="inventory-grid" data-grid="inventory">
        <div class="inventory-row" *ngFor="let row of items; let rowIndex = index">
          <div class="inventory-item" *ngFor="let item of row; let colIndex = index"
            [attr.draggable]="true"
            (click)="onCellClick(item, $event, rowIndex, colIndex)">
            <ng-container *ngIf="item && item !== itemToMove">
              <div class="image-wrapper">
                <div [innerHTML]="getImageHtml(item)"></div>
                <p class="quantity-text">{{item.quantity}}</p>
              </div>
            </ng-container>
        </div>
      </div>
    </div>
  </div>
  <div class="drag-overlay" *ngIf="isInventoryOpen"
     (dragover)="onOverlayDragOver($event)"
     (drop)="onOverlayDrop($event)">
  </div>